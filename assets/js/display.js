!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.tabby=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c={},d="querySelector"in document&&"addEventListener"in a&&"classList"in document.createElement("_"),e={selector:"[data-tab]",toggleActiveClass:"active",contentActiveClass:"active",initClass:"js-tabby",callback:function(){}},f=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)},g=function(){var a={},b=!1,c=0,d=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],c++);for(var e=function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b&&"[object Object]"===Object.prototype.toString.call(c[d])?a[d]=g(!0,a[d],c[d]):a[d]=c[d])};d>c;c++){var f=arguments[c];e(f)}return a},h=function(a,b){var c,d,e=b.charAt(0);for("["===e&&(b=b.substr(1,b.length-2),c=b.split("="),c.length>1&&(d=!0,c[1]=c[1].replace(/"/g,"").replace(/'/g,"")));a&&a!==document;a=a.parentNode){if("."===e&&a.classList.contains(b.substr(1)))return a;if("#"===e&&a.id===b.substr(1))return a;if("["===e&&a.hasAttribute(c[0])){if(!d)return a;if(a.getAttribute(c[0])===c[1])return a}if(a.tagName.toLowerCase()===b)return a}return null},i=function(a){for(var b=[],c=a.parentNode.firstChild;c;c=c.nextSibling)1===c.nodeType&&c!==a&&b.push(c);return b},j=function(a,b){if(!a.classList.contains(b)){var c=a.querySelector("iframe"),d=a.querySelector("video");if(c){var e=c.src;c.src=e}d&&d.pause()}},k=function(a,b,c){var d="li"===a.parentNode.tagName.toLowerCase()?!0:!1,e=i(d?a.parentNode:a),g=i(b);f(e,function(a){a.classList.remove(c.toggleActiveClass),d&&a.querySelector(c.selector).classList.remove(c.toggleActiveClass)}),f(g,function(a){a.classList.contains(c.contentActiveClass)&&(j(a),a.classList.remove(c.contentActiveClass))})},l=function(a,b,c){var d=a.parentNode;a.classList.add(c.toggleActiveClass),d&&"li"===d.tagName.toLowerCase()&&d.classList.add(c.toggleActiveClass),f(b,function(a){a.classList.add(c.contentActiveClass)})};c.toggleTab=function(a,b,c,d){var f=g(f||e,c||{}),h=document.querySelectorAll(b);k(a,h[0],f),l(a,h,f),f.callback(a,b)};var m=function(a){var d=h(a.target,b.selector);d&&(a.preventDefault(),c.toggleTab(d,d.getAttribute("data-tab"),b))};return c.destroy=function(){b&&(document.documentElement.classList.remove(b.initClass),document.removeEventListener("click",m,!1),b=null)},c.init=function(a){d&&(c.destroy(),b=g(e,a||{}),document.documentElement.classList.add(b.initClass),document.addEventListener("click",m,!1))},c}),function(){tabby.init()}();